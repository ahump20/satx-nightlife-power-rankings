// Mock venue data for SATX NW / Boerne area
// Used for development and demo purposes

import type { Venue, Deal, Event, Rating, RankingSnapshot } from '../db/schema';

export const MOCK_VENUES: (Venue & {
  ratings: Rating[];
  currentRanking: RankingSnapshot | null;
  deals: Deal[];
  events: Event[];
})[] = [
  {
    id: '1',
    googlePlaceId: 'ChIJExample1',
    yelpId: 'georges-keep-san-antonio',
    name: "George's Keep",
    slug: 'georges-keep',
    address: '312 Pearl Pkwy',
    city: 'San Antonio',
    zipCode: '78215',
    latitude: 29.4426,
    longitude: -98.4789,
    category: 'cocktail_lounge',
    subCategory: 'Speakeasy',
    phone: '(210) 277-6271',
    website: 'https://www.georgeskeep.com',
    imageUrl: '/venues/georges-keep.jpg',
    priceLevel: 3,
    isExpertPick: true,
    expertBoostMultiplier: 1.15,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r1', venueId: '1', source: 'google', rating: 4.7, reviewCount: 892, fetchedAt: new Date() },
      { id: 'r2', venueId: '1', source: 'yelp', rating: 4.5, reviewCount: 456, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk1',
      venueId: '1',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 1,
      previousRank: 2,
      powerScore: 94.5,
      scoreBreakdown: {
        googleRatingScore: 94,
        yelpRatingScore: 90,
        reviewVelocityScore: 72,
        dealsScore: 60,
        proximityBonus: 0,
        trendingBonus: 70,
        expertBoost: 15,
        totalWeightedScore: 94.5,
      },
      createdAt: new Date(),
    },
    deals: [
      {
        id: 'd1',
        venueId: '1',
        title: 'Cocktail Hour',
        description: '$2 off signature cocktails',
        dealType: 'happy_hour',
        dayOfWeek: null,
        startTime: '16:00',
        endTime: '18:00',
        discountAmount: 2,
        discountPercent: null,
        minPurchase: null,
        validFrom: new Date('2024-01-01'),
        validUntil: null,
        isActive: true,
        createdAt: new Date(),
      },
    ],
    events: [],
  },
  {
    id: '2',
    googlePlaceId: 'ChIJExample2',
    yelpId: 'camp-1604-san-antonio',
    name: 'Camp 1604',
    slug: 'camp-1604',
    address: '22702 US-281',
    city: 'San Antonio',
    zipCode: '78258',
    latitude: 29.6517,
    longitude: -98.4653,
    category: 'restaurant_bar',
    subCategory: 'Outdoor Venue',
    phone: '(210) 495-1604',
    website: 'https://camp1604.com',
    imageUrl: '/venues/camp-1604.jpg',
    priceLevel: 2,
    isExpertPick: true,
    expertBoostMultiplier: 1.12,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r3', venueId: '2', source: 'google', rating: 4.5, reviewCount: 1243, fetchedAt: new Date() },
      { id: 'r4', venueId: '2', source: 'yelp', rating: 4.0, reviewCount: 678, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk2',
      venueId: '2',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 2,
      previousRank: 3,
      powerScore: 91.2,
      scoreBreakdown: {
        googleRatingScore: 90,
        yelpRatingScore: 80,
        reviewVelocityScore: 85,
        dealsScore: 80,
        proximityBonus: 0,
        trendingBonus: 65,
        expertBoost: 12,
        totalWeightedScore: 91.2,
      },
      createdAt: new Date(),
    },
    deals: [
      {
        id: 'd2',
        venueId: '2',
        title: 'Happy Hour',
        description: '$5 house margaritas, $3 draft beers',
        dealType: 'happy_hour',
        dayOfWeek: null,
        startTime: '15:00',
        endTime: '18:00',
        discountPercent: 30,
        discountAmount: null,
        minPurchase: null,
        validFrom: new Date('2024-01-01'),
        validUntil: null,
        isActive: true,
        createdAt: new Date(),
      },
    ],
    events: [
      {
        id: 'e1',
        venueId: '2',
        title: 'Live Music: Texas Country Night',
        description: 'Live Texas country music on the patio',
        eventType: 'live_music',
        startTime: new Date(new Date().setHours(20, 0, 0, 0)),
        endTime: new Date(new Date().setHours(23, 0, 0, 0)),
        ticketUrl: null,
        imageUrl: null,
        source: 'internal',
        sourceEventId: null,
        createdAt: new Date(),
      },
    ],
  },
  {
    id: '3',
    googlePlaceId: 'ChIJExample3',
    yelpId: 'kung-fu-noodle-san-antonio',
    name: 'Kung Fu Noodle',
    slug: 'kung-fu-noodle',
    address: '8525 Blanco Rd',
    city: 'San Antonio',
    zipCode: '78216',
    latitude: 29.5246,
    longitude: -98.5233,
    category: 'restaurant_bar',
    subCategory: 'Late Night',
    phone: '(210) 366-2623',
    website: null,
    imageUrl: '/venues/kung-fu-noodle.jpg',
    priceLevel: 1,
    isExpertPick: true,
    expertBoostMultiplier: 1.10,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r5', venueId: '3', source: 'google', rating: 4.3, reviewCount: 567, fetchedAt: new Date() },
      { id: 'r6', venueId: '3', source: 'yelp', rating: 4.0, reviewCount: 312, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk3',
      venueId: '3',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 3,
      previousRank: 5,
      powerScore: 87.8,
      scoreBreakdown: {
        googleRatingScore: 86,
        yelpRatingScore: 80,
        reviewVelocityScore: 78,
        dealsScore: 50,
        proximityBonus: 0,
        trendingBonus: 75,
        expertBoost: 10,
        totalWeightedScore: 87.8,
      },
      createdAt: new Date(),
    },
    deals: [],
    events: [],
  },
  {
    id: '4',
    googlePlaceId: 'ChIJExample4',
    yelpId: 'the-venue-boerne',
    name: 'The Venue',
    slug: 'the-venue',
    address: '1425 Main St',
    city: 'Boerne',
    zipCode: '78006',
    latitude: 29.7946,
    longitude: -98.7310,
    category: 'live_music',
    subCategory: 'Entertainment Venue',
    phone: '(830) 331-9079',
    website: 'https://thevenueboerne.com',
    imageUrl: '/venues/the-venue.jpg',
    priceLevel: 2,
    isExpertPick: true,
    expertBoostMultiplier: 1.10,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r7', venueId: '4', source: 'google', rating: 4.6, reviewCount: 234, fetchedAt: new Date() },
      { id: 'r8', venueId: '4', source: 'yelp', rating: 4.5, reviewCount: 156, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk4',
      venueId: '4',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 4,
      previousRank: 4,
      powerScore: 86.5,
      scoreBreakdown: {
        googleRatingScore: 92,
        yelpRatingScore: 90,
        reviewVelocityScore: 65,
        dealsScore: 70,
        proximityBonus: 0,
        trendingBonus: 50,
        expertBoost: 10,
        totalWeightedScore: 86.5,
      },
      createdAt: new Date(),
    },
    deals: [
      {
        id: 'd3',
        venueId: '4',
        title: 'Weekend Special',
        description: 'Buy one get one half off cocktails',
        dealType: 'daily_special',
        dayOfWeek: 5,
        startTime: '18:00',
        endTime: '21:00',
        discountPercent: 50,
        discountAmount: null,
        minPurchase: null,
        validFrom: new Date('2024-01-01'),
        validUntil: null,
        isActive: true,
        createdAt: new Date(),
      },
    ],
    events: [
      {
        id: 'e2',
        venueId: '4',
        title: 'Saturday Night Live Band',
        description: 'Local band showcase',
        eventType: 'live_music',
        startTime: new Date(new Date().setHours(21, 0, 0, 0)),
        endTime: new Date(new Date().setHours(1, 0, 0, 0)),
        ticketUrl: 'https://thevenueboerne.com/events',
        imageUrl: null,
        source: 'internal',
        sourceEventId: null,
        createdAt: new Date(),
      },
    ],
  },
  {
    id: '5',
    googlePlaceId: 'ChIJExample5',
    yelpId: 'brass-tap-san-antonio',
    name: 'The Brass Tap',
    slug: 'brass-tap-la-cantera',
    address: '15900 La Cantera Pkwy',
    city: 'San Antonio',
    zipCode: '78256',
    latitude: 29.6063,
    longitude: -98.6171,
    category: 'bar',
    subCategory: 'Craft Beer Bar',
    phone: '(210) 233-7800',
    website: 'https://brasstapbeerbar.com',
    imageUrl: '/venues/brass-tap.jpg',
    priceLevel: 2,
    isExpertPick: false,
    expertBoostMultiplier: 1.0,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r9', venueId: '5', source: 'google', rating: 4.4, reviewCount: 987, fetchedAt: new Date() },
      { id: 'r10', venueId: '5', source: 'yelp', rating: 4.0, reviewCount: 543, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk5',
      venueId: '5',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 5,
      previousRank: 7,
      powerScore: 82.3,
      scoreBreakdown: {
        googleRatingScore: 88,
        yelpRatingScore: 80,
        reviewVelocityScore: 70,
        dealsScore: 75,
        proximityBonus: 0,
        trendingBonus: 70,
        expertBoost: 0,
        totalWeightedScore: 82.3,
      },
      createdAt: new Date(),
    },
    deals: [
      {
        id: 'd4',
        venueId: '5',
        title: 'Craft Hour',
        description: '$2 off all craft beers',
        dealType: 'happy_hour',
        dayOfWeek: null,
        startTime: '15:00',
        endTime: '19:00',
        discountAmount: 2,
        discountPercent: null,
        minPurchase: null,
        validFrom: new Date('2024-01-01'),
        validUntil: null,
        isActive: true,
        createdAt: new Date(),
      },
    ],
    events: [
      {
        id: 'e3',
        venueId: '5',
        title: 'Trivia Night',
        description: 'Weekly trivia with prizes',
        eventType: 'trivia',
        startTime: new Date(new Date().setHours(19, 0, 0, 0)),
        endTime: new Date(new Date().setHours(21, 0, 0, 0)),
        ticketUrl: null,
        imageUrl: null,
        source: 'internal',
        sourceEventId: null,
        createdAt: new Date(),
      },
    ],
  },
  {
    id: '6',
    googlePlaceId: 'ChIJExample6',
    yelpId: 'range-san-antonio',
    name: 'Range',
    slug: 'range-sa',
    address: '125 E Houston St',
    city: 'San Antonio',
    zipCode: '78205',
    latitude: 29.4251,
    longitude: -98.4909,
    category: 'cocktail_lounge',
    subCategory: 'Rooftop Bar',
    phone: '(210) 227-4455',
    website: 'https://rangesa.com',
    imageUrl: '/venues/range.jpg',
    priceLevel: 3,
    isExpertPick: false,
    expertBoostMultiplier: 1.0,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r11', venueId: '6', source: 'google', rating: 4.3, reviewCount: 654, fetchedAt: new Date() },
      { id: 'r12', venueId: '6', source: 'yelp', rating: 4.0, reviewCount: 432, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk6',
      venueId: '6',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 6,
      previousRank: 6,
      powerScore: 79.8,
      scoreBreakdown: {
        googleRatingScore: 86,
        yelpRatingScore: 80,
        reviewVelocityScore: 68,
        dealsScore: 55,
        proximityBonus: 0,
        trendingBonus: 50,
        expertBoost: 0,
        totalWeightedScore: 79.8,
      },
      createdAt: new Date(),
    },
    deals: [],
    events: [],
  },
  {
    id: '7',
    googlePlaceId: 'ChIJExample7',
    yelpId: 'dodging-duck-boerne',
    name: 'Dodging Duck Brewhaus',
    slug: 'dodging-duck',
    address: '402 River Rd',
    city: 'Boerne',
    zipCode: '78006',
    latitude: 29.7864,
    longitude: -98.7287,
    category: 'brewery',
    subCategory: 'Craft Brewery',
    phone: '(830) 248-3825',
    website: 'https://dodgingduck.com',
    imageUrl: '/venues/dodging-duck.jpg',
    priceLevel: 2,
    isExpertPick: false,
    expertBoostMultiplier: 1.0,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r13', venueId: '7', source: 'google', rating: 4.5, reviewCount: 876, fetchedAt: new Date() },
      { id: 'r14', venueId: '7', source: 'yelp', rating: 4.0, reviewCount: 321, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk7',
      venueId: '7',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 7,
      previousRank: 9,
      powerScore: 78.5,
      scoreBreakdown: {
        googleRatingScore: 90,
        yelpRatingScore: 80,
        reviewVelocityScore: 72,
        dealsScore: 60,
        proximityBonus: 0,
        trendingBonus: 70,
        expertBoost: 0,
        totalWeightedScore: 78.5,
      },
      createdAt: new Date(),
    },
    deals: [
      {
        id: 'd5',
        venueId: '7',
        title: 'Flight Night',
        description: '$12 beer flights every Thursday',
        dealType: 'daily_special',
        dayOfWeek: 4,
        startTime: '16:00',
        endTime: '22:00',
        discountPercent: null,
        discountAmount: null,
        minPurchase: null,
        validFrom: new Date('2024-01-01'),
        validUntil: null,
        isActive: true,
        createdAt: new Date(),
      },
    ],
    events: [],
  },
  {
    id: '8',
    googlePlaceId: 'ChIJExample8',
    yelpId: 'bowl-barrel-san-antonio',
    name: 'Bowl & Barrel',
    slug: 'bowl-barrel',
    address: '17619 La Cantera Pkwy',
    city: 'San Antonio',
    zipCode: '78257',
    latitude: 29.5962,
    longitude: -98.6199,
    category: 'sports_bar',
    subCategory: 'Bowling Alley Bar',
    phone: '(210) 787-2695',
    website: 'https://bowlandbarrel.com',
    imageUrl: '/venues/bowl-barrel.jpg',
    priceLevel: 2,
    isExpertPick: false,
    expertBoostMultiplier: 1.0,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r15', venueId: '8', source: 'google', rating: 4.2, reviewCount: 1123, fetchedAt: new Date() },
      { id: 'r16', venueId: '8', source: 'yelp', rating: 3.5, reviewCount: 567, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk8',
      venueId: '8',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 8,
      previousRank: 8,
      powerScore: 75.2,
      scoreBreakdown: {
        googleRatingScore: 84,
        yelpRatingScore: 70,
        reviewVelocityScore: 75,
        dealsScore: 65,
        proximityBonus: 0,
        trendingBonus: 50,
        expertBoost: 0,
        totalWeightedScore: 75.2,
      },
      createdAt: new Date(),
    },
    deals: [],
    events: [],
  },
  {
    id: '9',
    googlePlaceId: 'ChIJExample9',
    yelpId: 'cover-3-san-antonio',
    name: 'Cover 3',
    slug: 'cover-3-rim',
    address: '5503 N Loop 1604 W',
    city: 'San Antonio',
    zipCode: '78249',
    latitude: 29.5821,
    longitude: -98.6012,
    category: 'sports_bar',
    subCategory: 'Upscale Sports Bar',
    phone: '(210) 479-9700',
    website: 'https://cover-3.com',
    imageUrl: '/venues/cover-3.jpg',
    priceLevel: 2,
    isExpertPick: false,
    expertBoostMultiplier: 1.0,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r17', venueId: '9', source: 'google', rating: 4.4, reviewCount: 789, fetchedAt: new Date() },
      { id: 'r18', venueId: '9', source: 'yelp', rating: 4.0, reviewCount: 456, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk9',
      venueId: '9',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 9,
      previousRank: 10,
      powerScore: 74.8,
      scoreBreakdown: {
        googleRatingScore: 88,
        yelpRatingScore: 80,
        reviewVelocityScore: 65,
        dealsScore: 70,
        proximityBonus: 0,
        trendingBonus: 55,
        expertBoost: 0,
        totalWeightedScore: 74.8,
      },
      createdAt: new Date(),
    },
    deals: [
      {
        id: 'd6',
        venueId: '9',
        title: 'Game Day Special',
        description: '$5 wells during NFL games',
        dealType: 'daily_special',
        dayOfWeek: 0,
        startTime: '11:00',
        endTime: '22:00',
        discountPercent: null,
        discountAmount: null,
        minPurchase: null,
        validFrom: new Date('2024-09-01'),
        validUntil: new Date('2025-02-01'),
        isActive: true,
        createdAt: new Date(),
      },
    ],
    events: [],
  },
  {
    id: '10',
    googlePlaceId: 'ChIJExample10',
    yelpId: 'rebar-san-antonio',
    name: 'Rebar',
    slug: 'rebar-pearl',
    address: '200 E Grayson St',
    city: 'San Antonio',
    zipCode: '78215',
    latitude: 29.4452,
    longitude: -98.4831,
    category: 'cocktail_lounge',
    subCategory: 'Craft Cocktails',
    phone: '(210) 320-5777',
    website: null,
    imageUrl: '/venues/rebar.jpg',
    priceLevel: 2,
    isExpertPick: false,
    expertBoostMultiplier: 1.0,
    createdAt: new Date('2024-01-01'),
    updatedAt: new Date(),
    ratings: [
      { id: 'r19', venueId: '10', source: 'google', rating: 4.6, reviewCount: 432, fetchedAt: new Date() },
      { id: 'r20', venueId: '10', source: 'yelp', rating: 4.5, reviewCount: 287, fetchedAt: new Date() },
    ],
    currentRanking: {
      id: 'rk10',
      venueId: '10',
      periodType: 'monthly',
      periodStart: new Date('2024-12-01'),
      periodEnd: new Date('2024-12-31'),
      rank: 10,
      previousRank: 12,
      powerScore: 73.5,
      scoreBreakdown: {
        googleRatingScore: 92,
        yelpRatingScore: 90,
        reviewVelocityScore: 62,
        dealsScore: 40,
        proximityBonus: 0,
        trendingBonus: 70,
        expertBoost: 0,
        totalWeightedScore: 73.5,
      },
      createdAt: new Date(),
    },
    deals: [],
    events: [],
  },
];

// Historical ranking data for trends
export const MOCK_HISTORICAL_RANKINGS: Record<string, number[]> = {
  'georges-keep': [3, 2, 2, 1, 2, 1, 1, 2, 2, 1, 2, 1],
  'camp-1604': [4, 3, 3, 2, 3, 3, 2, 3, 3, 2, 3, 2],
  'kung-fu-noodle': [8, 7, 6, 5, 6, 5, 4, 5, 5, 4, 5, 3],
  'the-venue': [5, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],
  'brass-tap-la-cantera': [6, 8, 7, 7, 8, 6, 6, 7, 7, 6, 7, 5],
  'range-sa': [7, 6, 5, 6, 5, 7, 7, 6, 6, 7, 6, 6],
  'dodging-duck': [10, 10, 9, 9, 10, 9, 8, 9, 9, 8, 9, 7],
  'bowl-barrel': [9, 9, 8, 8, 7, 8, 9, 8, 8, 9, 8, 8],
  'cover-3-rim': [11, 11, 10, 10, 9, 10, 10, 10, 10, 10, 10, 9],
  'rebar-pearl': [12, 12, 12, 11, 11, 11, 11, 11, 12, 11, 12, 10],
};

// Generate mock trending data
export function getMockTrending(): typeof MOCK_VENUES {
  return [...MOCK_VENUES]
    .filter((v) => v.currentRanking && v.currentRanking.previousRank)
    .sort((a, b) => {
      const aChange = (a.currentRanking?.previousRank || 0) - (a.currentRanking?.rank || 0);
      const bChange = (b.currentRanking?.previousRank || 0) - (b.currentRanking?.rank || 0);
      return bChange - aChange;
    })
    .slice(0, 5);
}
